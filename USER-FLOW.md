# Job Mongolia Platform - User Flow Documentation

## 개요
몽골의 구인구직 및 채용공고 플랫폼의 사용자 플로우 문서입니다.

---

## 사용자 유형 (User Types)

1. **Candidate (구직자)** - `candidate` 또는 `job_seeker`
2. **Employer (구인자/기업)** - `employer`
3. **Admin (관리자)** - `admin`

---

## 1. 공통 플로우 (Public/Unauthenticated)

### 1.1 홈페이지 (`/`)
- **접근**: 모든 사용자 (로그인 여부 무관)
- **기능**:
  - 채용공고 검색
  - 추천 채용공고 조회
  - 프리미엄 채용공고 조회
  - 기업 목록 조회
  - 통계 정보 확인
- **다음 액션**:
  - 로그인/회원가입
  - 채용공고 상세보기
  - 기업 상세보기

### 1.2 회원가입 (`/register`)
- **접근**: 비로그인 사용자
- **플로우**:
  1. **계정 유형 선택**
     - 구직자 (Candidate)
     - 구인자 (Employer)
  2. **회원가입 폼 작성**
     - 이메일 (이메일 인증 필요)
     - 비밀번호 (강도 검증)
     - 이름
     - 위치
     - 시민권 유형 선택:
       - 몽골인: 몽골 ID 입력 (10자리)
       - 외국인: 국적 및 외국인 ID 입력
     - 전화번호 (국가 코드 포함)
     - **Employer인 경우 추가**:
       - 회사명
       - 산업
       - 회사 규모
       - 직책
  3. **이메일 인증**
     - 인증 코드 발송
     - 인증 코드 입력
  4. **회원가입 완료**
     - 자동 로그인
     - 사용자 유형에 따라 리다이렉트

### 1.3 로그인 (`/login`)
- **접근**: 비로그인 사용자
- **플로우**:
  1. 이메일/비밀번호 입력
  2. 로그인 성공 시 사용자 유형에 따라 리다이렉트:
     - Candidate → `/user/home` 또는 `/user/jobs`
     - Employer → `/company/dashboard`
     - Admin → `/admin/dashboard`

### 1.4 채용공고 목록 (`/user/jobs`)
- **접근**: 모든 사용자 (로그인 여부 무관)
- **기능**:
  - 채용공고 검색
  - 필터링 (위치, 산업, 경력, 급여, 원격근무 등)
  - 채용공고 카드 클릭 → 상세보기

### 1.5 채용공고 상세 (`/user/jobs/:id`)
- **접근**: 모든 사용자
- **기능**:
  - 채용공고 상세 정보
  - 기업 정보
  - 지원하기 버튼 (로그인 필요)
  - 저장하기 버튼 (로그인 필요)

### 1.6 기업 목록 (`/user/companies`)
- **접근**: 모든 사용자
- **기능**:
  - 기업 검색 및 필터링
  - 기업 카드 클릭 → 상세보기

### 1.7 기업 상세 (`/user/companies/:id`)
- **접근**: 모든 사용자
- **기능**:
  - 기업 정보
  - 기업의 채용공고 목록
  - 기업 리뷰

### 1.8 커리어 (`/user/career`)
- **접근**: 모든 사용자
- **기능**: 커리어 관련 정보 및 리소스

### 1.9 피드 (`/user/feed`)
- **접근**: 모든 사용자
- **기능**: 채용 관련 피드 및 뉴스

---

## 2. 구직자 (Candidate) 플로우

### 2.1 대시보드 (`/user/home`)
- **접근**: 로그인한 구직자
- **기능**:
  - 추천 채용공고
  - 저장한 채용공고
  - 지원 현황

### 2.2 프로필 (`/user/profile`)
- **접근**: 로그인한 구직자
- **기능**:
  - 프로필 정보 수정
  - 프로필 사진 업로드
  - 개인 정보 관리

### 2.3 이력서 관리 (`/user/resumes`)
- **접근**: 로그인한 구직자만
- **기능**:
  - 이력서 목록 조회
  - 새 이력서 작성
  - 이력서 수정
  - 이력서 삭제
  - 기본 이력서 설정
  - 이력서 미리보기

### 2.4 채팅 (`/user/chat`)
- **접근**: 로그인한 구직자
- **기능**:
  - 채팅방 목록
  - 기업과의 1:1 채팅
  - 실시간 메시지 (WebSocket)
  - 읽지 않은 메시지 알림
  - 채팅방 닫기/재개

### 2.5 설정 (`/user/settings`)
- **접근**: 로그인한 구직자
- **기능**:
  - 알림 설정
  - 개인정보 설정
  - 비밀번호 변경
  - 계정 삭제

### 2.6 지원 프로세스
1. 채용공고 상세 페이지에서 "지원하기" 클릭
2. 이력서 선택 (또는 새로 작성)
3. 지원서 제출
4. 지원 완료 → 지원 현황에서 확인 가능
5. 기업과 채팅 시작 가능 (기업이 시작)

---

## 3. 구인자 (Employer) 플로우

### 3.1 기업 대시보드 (`/company/dashboard`)
- **접근**: 로그인한 구인자만
- **기능**:
  - 통계 정보
  - 최근 지원자
  - 활성 채용공고
  - 빠른 액션

### 3.2 채용공고 관리 (`/company/jobs`)
- **접근**: 로그인한 구인자만
- **기능**:
  - 채용공고 목록
  - 새 채용공고 작성
  - 채용공고 수정
  - 채용공고 삭제
  - 채용공고 상태 변경 (활성/비활성)

### 3.3 지원자 관리 (`/company/applications`)
- **접근**: 로그인한 구인자만
- **기능**:
  - 지원자 목록
  - 지원서 상세보기
  - 지원자 이력서 확인
  - 지원 상태 변경 (검토중/합격/불합격)

### 3.4 파이프라인 (`/company/pipeline`)
- **접근**: 로그인한 구인자만
- **기능**:
  - 지원자 파이프라인 관리
  - 단계별 지원자 이동
  - 면접 일정 관리

### 3.5 면접 관리 (`/company/interviews`)
- **접근**: 로그인한 구인자만
- **기능**:
  - 면접 일정 관리
  - 면접 결과 기록
  - 캘린더 뷰

### 3.6 인재 추천 (`/company/recommendations`)
- **접근**: 로그인한 구인자만
- **기능**:
  - AI 기반 인재 추천
  - 추천 인재 프로필 확인
  - 직접 연락

### 3.7 인재 검색 (`/company/talents`)
- **접근**: 로그인한 구인자만
- **기능**:
  - 인재 검색 및 필터링
  - 인재 프로필 확인
  - 채팅 시작 (구인자만 시작 가능)

### 3.8 채팅 (`/company/chat`)
- **접근**: 로그인한 구인자만
- **기능**:
  - 구직자와의 채팅방 목록
  - 실시간 메시지
  - 채팅 시작 (구인자만 가능)
  - 채팅방 닫기/재개

### 3.9 분석 (`/company/analytics`)
- **접근**: 로그인한 구인자만
- **기능**:
  - 채용 통계
  - 지원자 분석
  - 채용공고 성과 분석

### 3.10 직원 관리 (`/company/employees`)
- **접근**: 로그인한 구인자만
- **기능**:
  - 직원 목록
  - 고용 이력 관리
  - 평가 관리

### 3.11 브랜딩 (`/company/branding`)
- **접근**: 로그인한 구인자만
- **기능**:
  - 회사 로고 업로드
  - 브랜드 컬러 설정
  - 회사 소개 페이지 커스터마이징

### 3.12 회사 프로필 (`/company/profile`)
- **접근**: 로그인한 구인자만
- **기능**:
  - 회사 정보 수정
  - 회사 소개
  - 연락처 정보

### 3.13 회사 정보 (`/company/info`)
- **접근**: 로그인한 구인자만
- **기능**:
  - 상세 회사 정보 관리
  - 회사 승인 상태 확인

### 3.14 설정 (`/company/settings`)
- **접근**: 로그인한 구인자만
- **기능**:
  - 계정 설정
  - 알림 설정
  - 구독 관리

### 3.15 채용 프로세스
1. 채용공고 작성 (`/company/jobs`)
2. 채용공고 게시
3. 지원자 확인 (`/company/applications`)
4. 지원자 검토 및 이력서 확인
5. 채팅 시작 (`/company/chat`) - 구인자만 시작 가능
6. 면접 일정 잡기 (`/company/interviews`)
7. 합격/불합격 처리 (`/company/pipeline`)
8. 고용 완료 (`/company/employees`)

---

## 4. 관리자 (Admin) 플로우

### 4.1 관리자 대시보드 (`/admin/dashboard`)
- **접근**: 관리자만
- **기능**:
  - 플랫폼 통계
  - 최근 활동
  - 결제 현황
  - 사용자/기업/채용공고 통계

### 4.2 사용자 관리 (`/admin/users`)
- **접근**: 관리자만
- **기능**:
  - 사용자 목록 조회
  - 사용자 검색 및 필터링
  - 사용자 활성화/비활성화
  - 사용자 통계

### 4.3 기업 관리 (`/admin/companies`)
- **접근**: 관리자만
- **기능**:
  - 기업 목록 조회
  - 기업 검색 및 필터링
  - 기업 승인/거절
  - 기업 통계

### 4.4 역할 관리 (`/admin/roles`)
- **접근**: 관리자만
- **기능**:
  - 역할 목록
  - 권한 설정
  - 역할 생성/수정/삭제

### 4.5 모니터링 (`/admin/monitoring`)
- **접근**: 관리자만
- **기능**:
  - 시스템 헬스 체크
  - 성능 메트릭
  - 에러 로그
  - 분석 데이터

### 4.6 정산 관리 (`/admin/settlements`)
- **접근**: 관리자만
- **기능**:
  - 정산 목록
  - 정산 생성/수정
  - 정산 상태 관리

### 4.7 분석 (`/admin/analytics`)
- **접근**: 관리자만
- **기능**:
  - 플랫폼 분석
  - 일일 분석 생성
  - 트렌드 분석

### 4.8 배너 관리 (`/admin/banners`)
- **접근**: 관리자만
- **기능**:
  - 배너 목록
  - 배너 생성/수정/삭제
  - 배너 활성화/비활성화
  - 배너 통계 (클릭수, 조회수)

### 4.9 설정 (`/admin/settings`)
- **접근**: 관리자만
- **기능**:
  - 시스템 설정
  - 요금제 관리
  - 플랫폼 설정

---

## 5. 인증 및 권한 플로우

### 5.1 인증 가드
- **ProtectedPage**: 로그인 필요
- **RoleGuard**: 특정 사용자 유형만 접근 가능
- **AuthGuard**: 인증 상태 확인

### 5.2 권한 매트릭스

| 기능 | Candidate | Employer | Admin | Guest |
|------|-----------|----------|-------|-------|
| 홈페이지 | ✅ | ✅ | ✅ | ✅ |
| 채용공고 조회 | ✅ | ✅ | ✅ | ✅ |
| 채용공고 상세 | ✅ | ✅ | ✅ | ✅ |
| 기업 조회 | ✅ | ✅ | ✅ | ✅ |
| 채용공고 지원 | ✅ | ❌ | ❌ | ❌ |
| 이력서 관리 | ✅ | ❌ | ❌ | ❌ |
| 채용공고 작성 | ❌ | ✅ | ✅ | ❌ |
| 지원자 관리 | ❌ | ✅ | ✅ | ❌ |
| 채팅 시작 | ❌ | ✅ | ✅ | ❌ |
| 채팅 참여 | ✅ | ✅ | ✅ | ❌ |
| 관리자 기능 | ❌ | ❌ | ✅ | ❌ |

---

## 6. 주요 기능 플로우

### 6.1 채팅 플로우
1. **채팅 시작**:
   - 구인자만 채팅 시작 가능
   - 구직자 프로필 또는 지원서에서 "채팅 시작" 클릭
   - 채팅방 생성 또는 기존 채팅방 열기

2. **메시지 전송**:
   - 실시간 WebSocket 통신
   - 메시지 읽음 처리
   - 타이핑 인디케이터

3. **채팅방 관리**:
   - 채팅방 닫기 (구인자/구직자 모두 가능)
   - 채팅방 재개 요청
   - 채팅방 삭제 (개인 삭제)

### 6.2 지원 프로세스 플로우
1. 구직자가 채용공고 상세 페이지에서 "지원하기" 클릭
2. 이력서 선택 또는 새로 작성
3. 지원서 제출
4. 구인자가 지원서 확인 (`/company/applications`)
5. 구인자가 채팅 시작 가능
6. 면접 일정 조율 (`/company/interviews`)
7. 합격/불합격 처리 (`/company/pipeline`)
8. 고용 완료 (`/company/employees`)

### 6.3 이력서 관리 플로우
1. 구직자가 `/user/resumes` 접근
2. 새 이력서 작성 또는 기존 이력서 수정
3. 이력서 저장
4. 기본 이력서 설정
5. 지원 시 이력서 선택

### 6.4 채용공고 작성 플로우
1. 구인자가 `/company/jobs` 접근
2. "새 채용공고 작성" 클릭
3. 채용공고 정보 입력:
   - 제목, 설명
   - 위치, 급여
   - 경력 요구사항
   - 고용 형태
4. 채용공고 저장 및 게시
5. 지원자 확인 및 관리

---

## 7. 네비게이션 플로우

### 7.1 모바일 네비게이션
- 하단 네비게이션 바 (`BottomNavigation`)
- 주요 메뉴 빠른 접근

### 7.2 데스크톱 네비게이션
- 상단 헤더 (`Header`)
- 사용자 유형별 메뉴 표시

---

## 8. 다국어 지원

- 모든 페이지 및 기능은 다국어 지원
- 지원 언어:
  - 한국어 (ko)
  - 영어 (en)
  - 몽골어 (mn)
- 언어 전환: 헤더의 언어 선택기

---

## 9. 보안 및 제한사항

### 9.1 Rate Limiting
- 인증 엔드포인트: 15분당 5회 (운영), 1분당 50회 (개발)

### 9.2 권한 검증
- 모든 보호된 라우트는 인증 및 권한 검증
- 사용자 유형별 접근 제어

### 9.3 데이터 검증
- 이메일 인증 필수
- 몽골 ID 검증 (10자리)
- 비밀번호 강도 검증

---

## 10. 에러 처리

- 404: Not Found 페이지
- 인증 실패: 로그인 페이지로 리다이렉트
- 권한 없음: 접근 거부 메시지
- 에러 바운더리: 전역 에러 처리

---

## 11. 주요 API 엔드포인트

### 인증
- `POST /api/auth/register` - 회원가입
- `POST /api/auth/login` - 로그인
- `GET /api/auth/user` - 현재 사용자 정보
- `POST /api/auth/refresh` - 토큰 갱신

### 채용공고
- `GET /api/jobs` - 채용공고 목록
- `GET /api/jobs/:id` - 채용공고 상세
- `POST /api/jobs` - 채용공고 작성 (구인자)

### 기업
- `GET /api/companies` - 기업 목록
- `GET /api/companies/:id` - 기업 상세
- `GET /api/companies/profile` - 내 기업 프로필 (구인자)

### 지원
- `POST /api/applications` - 지원하기
- `GET /api/applications/user/:userId` - 내 지원 목록
- `GET /api/applications/job/:jobId` - 채용공고별 지원자 목록

### 채팅
- `GET /api/chat/rooms` - 채팅방 목록
- `POST /api/chat/start` - 채팅 시작 (구인자만)
- `GET /api/chat/messages/:roomId` - 메시지 목록
- `POST /api/chat/messages` - 메시지 전송

### 이력서
- `GET /api/resumes` - 내 이력서 목록
- `POST /api/resumes` - 이력서 작성
- `PUT /api/resumes/:id` - 이력서 수정
- `DELETE /api/resumes/:id` - 이력서 삭제

---

## 12. 데이터베이스 구조

### 주요 테이블
- `users` - 사용자 정보
- `companies` - 기업 정보
- `jobs` - 채용공고
- `applications` - 지원서
- `resumes` - 이력서
- `chat_rooms` - 채팅방
- `chat_messages` - 채팅 메시지
- `saved_jobs` - 저장한 채용공고
- `company_users` - 사용자-기업 매핑

---

## 13. 향후 개선 사항

1. 소셜 로그인 (Google, Facebook 등)
2. 이메일 알림 시스템
3. 푸시 알림
4. 고급 검색 필터
5. AI 기반 채용공고 매칭
6. 비디오 면접 기능
7. 평가 및 리뷰 시스템 확장

---

**마지막 업데이트**: 2025년 1월

